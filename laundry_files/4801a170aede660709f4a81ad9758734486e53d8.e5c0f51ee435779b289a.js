(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[3],{"2Bdj":function(e,t,r){"use strict";function n(e){return"function"===typeof e}r.d(t,"a",(function(){return n}))},"6ahw":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("iLxQ"),i=r("DKTb"),o={closed:!0,next:function(e){},error:function(e){if(n.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},"6blF":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("FFOo");var i=r("L/V9"),o=r("6ahw");var s=r("xTla");function a(e){return e}function u(e){return 0===e.length?a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var c=r("iLxQ"),l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var s=this.operator,a=function(e,t,r){if(e){if(e instanceof n.a)return e;if(e[i.a])return e[i.a]()}return e||t||r?new n.a(e,t,r):new n.a(o.a)}(e,t,r);if(s?a.add(s.call(a,this.source)):a.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,r=t.closed,i=t.destination,o=t.isStopped;if(r||o)return!1;e=i&&i instanceof n.a?i:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=f(t))((function(t,n){var i;i=r.subscribe((function(t){try{e(t)}catch(r){n(r),i&&i.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[s.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:u(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function f(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},"8oxB":function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=a(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function b(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=b,i.addListener=b,i.once=b,i.off=b,i.removeListener=b,i.removeAllListeners=b,i.emit=b,i.prependListener=b,i.prependOnceListener=b,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},DKTb:function(e,t,r){"use strict";function n(e){setTimeout((function(){throw e}),0)}r.d(t,"a",(function(){return n}))},FFOo:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("mrSG"),i=r("2Bdj"),o=r("6ahw"),s=r("pugT"),a=r("L/V9"),u=r("iLxQ"),c=r("DKTb"),l=function(e){function t(r,n,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.a;break;case 1:if(!r){s.destination=o.a;break}if("object"===typeof r){r instanceof t?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new f(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new f(s,r,n,i)}return s}return n.a(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.a),f=function(e){function t(t,r,n,s){var a,u=e.call(this)||this;u._parentSubscriber=t;var c=u;return Object(i.a)(r)?a=r:r&&(a=r.next,n=r.error,s=r.complete,r!==o.a&&(c=Object.create(r),Object(i.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=n,u._complete=s,u}return n.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Object(c.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw r;Object(c.a)(r)}},t.prototype.__tryOrSetError=function(e,t,r){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(n){return u.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):(Object(c.a)(n),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},"HaE+":function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,u,"next",e)}function u(e){n(s,i,o,a,u,"throw",e)}a(void 0)}))}}r.d(t,"a",(function(){return i}))},"L/V9":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},McSo:function(e,t,r){"use strict";function n(e){return null!==e&&"object"===typeof e}r.d(t,"a",(function(){return n}))},ODXe:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(u){i=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return i}))},"PV/R":function(e,t,r){"use strict";function n(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}e.exports=function(e,t,r){var i=r&&r.stringify||n;if("object"===typeof e&&null!==e){var o=t.length+1;if(1===o)return e;var s=new Array(o);s[0]=i(e);for(var a=1;a<o;a++)s[a]=i(t[a]);return s.join(" ")}if("string"!==typeof e)return e;var u=t.length;if(0===u)return e;for(var c="",l=0,f=-1,h=e&&e.length||0,p=0;p<h;){if(37===e.charCodeAt(p)&&p+1<h){switch(f=f>-1?f:0,e.charCodeAt(p+1)){case 100:if(l>=u)break;if(f<p&&(c+=e.slice(f,p)),null==t[l])break;c+=Number(t[l]),f=p+=2;break;case 79:case 111:case 106:if(l>=u)break;if(f<p&&(c+=e.slice(f,p)),void 0===t[l])break;var d=typeof t[l];if("string"===d){c+="'"+t[l]+"'",f=p+2,p++;break}if("function"===d){c+=t[l].name||"<anonymous>",f=p+2,p++;break}c+=i(t[l]),f=p+2,p++;break;case 115:if(l>=u)break;f<p&&(c+=e.slice(f,p)),c+=String(t[l]),f=p+2,p++;break;case 37:f<p&&(c+=e.slice(f,p)),c+="%",f=p+2,p++}++l}++p}if(-1===f)return e;f<h&&(c+=e.slice(f));return c}},QtGK:function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return v})),r.d(t,"a",(function(){return w}));var n=r("o0o1"),i=r.n(n),o=r("HaE+"),s=r("vcXL"),a=r.n(s),u=r("RePV"),c={headers:{Authorization:"Bearer foo","Content-Type":"application/json"}};function l(e,t,r,n,i){e.ok&&u.a.warn("WARNING: created error for valid request: %o",e);var o=new Error("Server Request Failure");return void 0!=i&&void 0!=i.type&&(u.a.error("ErrorData: %o",i),o.type=i.type),o.relatedData=void 0==i?null:i,o.method=n,o.url=t,o.data=r,o.description="Server Request Failure",o.statusCode=e.status,o.statusMessage=e.statusText,o}function f(e,t){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(i.a.mark((function e(t,r){var n,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null==r?c:r,e.next=3,a()(t,n);case 3:if((o=e.sent).ok){e.next=10;break}return e.next=7,o.json();case 7:throw s=e.sent,new l(o,t,n,"GET",s);case 10:return e.next=12,o.json();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(i.a.mark((function e(t,r){var n,o,s,f,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null==r?c:r,o=null,e.prev=2,e.next=5,a()(t,n);case 5:if((o=e.sent).ok){e.next=12;break}return e.next=9,o.json();case 9:return s=e.sent,f=new l(o,t,n,"GET",s),e.abrupt("return",{data:null,error:f});case 12:return e.next=14,o.json();case 14:return e.t0=e.sent,e.abrupt("return",{data:e.t0,error:null});case 18:return e.prev=18,e.t1=e.catch(2),u.a.error("Exception: %o",e.t1),h=new l(o,t,n,"GET",e.t1),e.abrupt("return",{data:null,error:h});case 23:case"end":return e.stop()}}),e,null,[[2,18]])})))).apply(this,arguments)}function b(e,t){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a()(t,{method:"POST",headers:{Authorization:"Bearer foo","Content-Type":"application/json"},body:JSON.stringify(r)});case 2:if((n=e.sent).ok){e.next=5;break}throw new l(n,t,r,"POST");case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a()(t,{method:"PUT",headers:{Authorization:"Bearer foo","Content-Type":"application/json"},body:JSON.stringify(r)});case 2:if((n=e.sent).ok){e.next=5;break}throw new l(n,t,r,"PUT");case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a()(t,{method:"DELETE",headers:{Authorization:"Bearer foo","Content-Type":"application/json"},body:JSON.stringify(r)});case 2:if((n=e.sent).ok){e.next=5;break}throw new l(n,t,r,"DELETE");case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.prototype=Object.create(Error.prototype)},RePV:function(e,t,r){"use strict";var n=r("oo8O"),i=r.n(n);t.a=i()({level:"debug",prettyPrint:!1,useLevelLabels:!1,browser:{write:function(e){console.log(e)}}})},UwMZ:function(e,t,r){"use strict";(function(e){var n=r("rePB");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=o(o({},{AUTH0_CLIENT_ID:e.env.AUTH0_CLIENT_ID,AUTH0_SCOPE:"openid profile",AUTH0_DOMAIN:e.env.AUTH0_DOMAIN,REDIRECT_URI:e.env.REDIRECT_URI,POST_LOGOUT_REDIRECT_URI:e.env.POST_LOGOUT_REDIRECT_URI}),{},{CLOUD_API_V1_BASE_URL:"https://prod.api.bright.ai"})}).call(this,r("8oxB"))},iLxQ:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},isby:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return Array.isArray||function(e){return e&&"number"===typeof e.length}}()},jh6C:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return l}));var n=r("q1tI"),i=r.n(n),o=r("QtGK"),s=i.a.createElement,a={settingsEnabled:!1,walletEnabled:!1,loginEnabled:!1,topOffEnabled:!1,machineHealthCheckEnabled:!1},u=Object(n.createContext)(a),c=function(){return Object(n.useContext)(u)},l=function(e){var t=e.children,r=Object(n.useState)(a),i=r[0],c=r[1];return Object(n.useEffect)((function(){Object(o.b)("/api/ui/feature/flags").then((function(e){return c(e)}))}),[]),s(u.Provider,{value:i},t)}},mrSG:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}},oo8O:function(e,t,r){"use strict";var n=r("PV/R");e.exports=s;var i=function(){function e(e){return"undefined"!==typeof e&&e}try{return"undefined"!==typeof globalThis?globalThis:(Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis)}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},o={mapHttpRequest:d,mapHttpResponse:d,wrapRequestSerializer:b,wrapResponseSerializer:b,wrapErrorSerializer:b,req:d,res:d,err:function(e){var t={type:e.constructor.name,msg:e.message,stack:e.stack};for(var r in e)void 0===t[r]&&(t[r]=e[r]);return t}};function s(e){(e=e||{}).browser=e.browser||{};var t=e.browser.transmit;if(t&&"function"!==typeof t.send)throw Error("pino: transmit option must have a send function");var r=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);var n=e.serializers||{},o=Array.isArray(e.browser.serialize)?e.browser.serialize.filter((function(e){return"!stdSerializers.err"!==e})):!0===e.browser.serialize&&Object.keys(n),u=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(u=!1);"function"===typeof r&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),!1===e.enabled&&(e.level="silent");var f=e.level||"info",d=Object.create(r);d.log||(d.log=y),Object.defineProperty(d,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(d,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,a(b,d,"error","log"),a(b,d,"fatal","error"),a(b,d,"warn","error"),a(b,d,"info","log"),a(b,d,"debug","log"),a(b,d,"trace","log")}});var b={transmit:t,serialize:o,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:p(e)};return d.levels=s.levels,d.level=f,d.setMaxListeners=d.getMaxListeners=d.emit=d.addListener=d.on=d.prependListener=d.once=d.prependOnceListener=d.removeListener=d.removeAllListeners=d.listeners=d.listenerCount=d.eventNames=d.write=d.flush=y,d.serializers=n,d._serialize=o,d._stdErrSerialize=u,d.child=function(r){if(!r)throw new Error("missing bindings for child Pino");var i=r.serializers;if(o&&i){var s=Object.assign({},n,i),a=!0===e.browser.serialize?Object.keys(s):o;delete r.serializers,c([r],a,s,this._stdErrSerialize)}function u(e){this._childLevel=1+(0|e._childLevel),this.error=l(e,r,"error"),this.fatal=l(e,r,"fatal"),this.warn=l(e,r,"warn"),this.info=l(e,r,"info"),this.debug=l(e,r,"debug"),this.trace=l(e,r,"trace"),s&&(this.serializers=s,this._serialize=a),t&&(this._logEvent=h([].concat(e._logEvent.bindings,r)))}return u.prototype=this,new u(this)},t&&(d._logEvent=h()),d}function a(e,t,r,n){var o=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?y:o[r]?o[r]:i[r]||i[n]||y,function(e,t,r){if(!e.transmit&&t[r]===y)return;t[r]=(n=t[r],function(){for(var o=e.timestamp(),a=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this,h=0;h<a.length;h++)a[h]=arguments[h];if(e.serialize&&!e.asObject&&c(a,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?n.call(l,u(this,r,a,o)):n.apply(l,a),e.transmit){var p=e.transmit.level||t.level,d=s.levels.values[p],b=s.levels.values[r];if(b<d)return;f(this,{ts:o,methodLevel:r,methodValue:b,transmitLevel:p,transmitValue:s.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},a)}});var n}(e,t,r)}function u(e,t,r,i){e._serialize&&c(r,e._serialize,e.serializers,e._stdErrSerialize);var o=r.slice(),a=o[0],u={};i&&(u.time=i),u.level=s.levels.values[t];var l=1+(0|e._childLevel);if(l<1&&(l=1),null!==a&&"object"===typeof a){for(;l--&&"object"===typeof o[0];)Object.assign(u,o.shift());a=o.length?n(o.shift(),o):void 0}else"string"===typeof a&&(a=n(o.shift(),o));return void 0!==a&&(u.msg=a),u}function c(e,t,r,n){for(var i in e)if(n&&e[i]instanceof Error)e[i]=s.stdSerializers.err(e[i]);else if("object"===typeof e[i]&&!Array.isArray(e[i]))for(var o in e[i])t&&t.indexOf(o)>-1&&o in r&&(e[i][o]=r[o](e[i][o]))}function l(e,t,r){return function(){var n=new Array(1+arguments.length);n[0]=t;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return e[r].apply(this,n)}}function f(e,t,r){var n=t.send,i=t.ts,o=t.methodLevel,s=t.methodValue,a=t.val,u=e._logEvent.bindings;c(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=r.filter((function(e){return-1===u.indexOf(e)})),e._logEvent.level.label=o,e._logEvent.level.value=s,n(o,e._logEvent,a),e._logEvent=h(u)}function h(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function p(e){return"function"===typeof e.timestamp?e.timestamp:!1===e.timestamp?v:m}function d(){return{}}function b(e){return e}function y(){}function v(){return!1}function m(){return Date.now()}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=o,s.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:m,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},pugT:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("isby"),i=r("McSo"),o=r("2Bdj"),s=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this._parentOrParents,a=this._ctorUnsubscribe,c=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var f=0;f<r.length;++f){r[f].remove(this)}if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(d){t=d instanceof s?u(d.errors):[d]}}if(Object(n.a)(l)){f=-1;for(var h=l.length;++f<h;){var p=l[f];if(Object(i.a)(p))try{p.unsubscribe()}catch(d){t=t||[],d instanceof s?t=t.concat(u(d.errors)):t.push(d)}}}if(t)throw new s(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!==typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof e){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function u(e){return e.reduce((function(e,t){return e.concat(t instanceof s?t.errors:t)}),[])}},rePB:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},vcXL:function(e,t,r){"use strict";var n=self.fetch.bind(self);e.exports=n,e.exports.default=e.exports},xTla:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},xj7V:function(e,t,r){"use strict";r.d(t,"a",(function(){return T})),r.d(t,"b",(function(){return L}));var n=r("o0o1"),i=r.n(n),o=r("HaE+"),s=r("rePB"),a=r("ODXe"),u=r("q1tI"),c=r.n(u),l=r("UwMZ"),f=r("RePV"),h=r("QtGK"),p=r("6blF"),d=r("mrSG"),b=r("FFOo"),y=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return d.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,r){return e.call(this)||this}return d.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r("pugT").a)),v=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}(),m=new(function(e){function t(r,n){void 0===n&&(n=v.now);var i=e.call(this,r,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():n()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return d.a(t,e),t.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,i):e.prototype.schedule.call(this,r,n,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(v))(y);var w=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new g(e,this.dueTime,this.scheduler))},e}(),g=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.dueTime=r,i.scheduler=n,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return d.a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(O,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(b.a);function O(e){e.debouncedNext()}var _=r("nOHt"),E=c.a.createElement;function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x={initialized:!1,error:!1,errors:null,location:null,machines:null,balance:0,sourceLicensePlate:null,stickerNumber:0,availabilitySummary:null,guid:null,getMachine:function(e){return null},getSourceMachine:function(){return null},findMachineByStickerNumber:function(e){return null},getPriceString:function(){return"$0.00"},getSelectedMachine:function(){return null},getPrice:function(){return{zeroDecimalAmount:0,displayAmount:"$0.00",currency:"usd",locationId:""}}},T=Object(u.createContext)(x);var P=function(e,t){switch(t.type){case"reset":return x;case"set-location":return j(j({},e),{},{location:t.payload});case"set-machine":if(null==t.payload)return j({},e);var r=function(e,t){for(var r=0,n=Object.entries(e);r<n.length;r++){var i=Object(a.a)(n[r],2),o=i[0];if(i[1].licensePlate==t)return o}}(e.machines,t.payload.licensePlate);return-1==r?(f.a.debug("Not Found"),j({},e)):j(j({},e),{},{machines:j(j({},e.machines),{},Object(s.a)({},r,t.payload.machine))});case"set-machine-array":return null==t.payload?j({},e):j(j({},e),{},{machines:t.payload.machines});case"set-session":return null==t.payload?j({},e):j(j({},e),{},{session:t.payload});case"set-balance":return j(j({},e),{},{balance:t.payload});case"set-init-props":return null==t.payload?j({},e):t.payload.error?j({},t.payload):{intialized:!0,error:!1,errors:null,location:t.payload.location,machines:j({},t.payload.machines),balance:t.payload.balance,sourceLicensePlate:t.payload.sourceLicensePlate,stickerNumber:t.payload.stickerNumber,availabilitySummary:t.payload.availabilitySummary,guid:t.payload.guid,getMachine:function(e){for(var t in this.machines)if(this.machines[t].licensePlate==e)return this.machines[t];return null},getSourceMachine:function(){return this.getMachine(this.sourceLicensePlate)},findMachineByStickerNumber:function(e){for(var t in this.machines)if(this.machines[t].stickerNumber==e)return this.machines[t];return null},getPriceString:function(){return"$"+(parseFloat(this.balance)/100).toFixed(2)},getSelectedMachine:function(){return this.getMachine(this.sourceLicensePlate)},getPrice:function(){var e=this.getMachine(this.sourceLicensePlate).selectedPrice;return{zeroDecimalAmount:e,displayAmount:"$"+(parseFloat(e)/100).toFixed(2),currency:"usd",locationId:this.location.id}}}}};function k(e){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(i.a.mark((function e(t){var r,n,o,s,a,u,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null,"",r="/api/ui/data/".concat(t).concat(""),e.next=5,Object(h.c)(r);case 5:if(n=e.sent,o=n.data,null!=(s=n.error)){e.next=15;break}return a=o.machines,u=a.find((function(e){return e.licensePlate==o.licensePlate})),c={initialized:!0,location:o.location,machines:o.machines,balance:o.balance?o.balance:0,sourceLicensePlate:o.licensePlate,stickerNumber:u.stickerNumber,availabilitySummary:o.availabilitySummary,guid:t},e.abrupt("return",c);case 15:return f.a.debug("ERROR POPULATING INITIAL STATE: %o",s),l=j(j({},x),{},{error:!0,errors:s}),f.a.debug(l),e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(e){var t=c.a.useReducer(P,x),r=Object(a.a)(t,2),n=r[0],s=r[1],d=Object(_.useRouter)().query.id,b="".concat(l.a.CLOUD_API_V1_BASE_URL,"/csc/v1/stream/events"),y=c.a.useRef(null);return Object(u.useEffect)((function(){var e=function(){var e=Object(o.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=3;break}return f.a.error("ERROR: NULL UPDATE"),e.abrupt("return");case 3:return r="/api/ui/machine/"+t,e.next=6,Object(h.b)(r);case 6:n=e.sent,s({type:"set-machine",payload:{licensePlate:t,machine:n}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();y.current=e}),[n]),Object(u.useEffect)((function(){var t=function(){var e=Object(o.a)(i.a.mark((function e(){var t,r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",!d){e.next=5;break}t=d[0],e.next=11;break;case 5:return e.next=7,Object(h.c)("/api/ui/defaultLoc");case 7:r=e.sent,n=r.data,r.error,t=n.opaqueId;case 11:return e.next=13,k(t);case 13:o=e.sent,s({type:"set-init-props",payload:o});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();y.current&&t(e);var r,n,a=[],u=p.a.create((function(e){var t=new EventSource(b);return t.onopen=function(){f.a.debug("sse opened: %s",b)},t.onerror=function(t){f.a.debug("sse error"),e.error(t)},t.onmessage=function(t){var r=t.data,n=JSON.parse(r);f.a.debug(n,"SSE Event"),"state-changed"==n.event&&(a.includes(n.licensePlate)||a.push(n.licensePlate),e.next(t))},function(){t.close()}})).pipe((r=200,void 0===n&&(n=m),function(e){return e.lift(new w(r,n))})).subscribe({next:function(e){a.length>0&&(a.forEach((function(e){return y.current(e)})),a=[])},error:function(e){return f.a.error("something wrong occurred: %o",e)},complete:function(){return f.a.debug("done")}});return function(){u.unsubscribe()}}),[]),E(T.Provider,{value:{state:n,dispatch:s}},e.children)}}}]);